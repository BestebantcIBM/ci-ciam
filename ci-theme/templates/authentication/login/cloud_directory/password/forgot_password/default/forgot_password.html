<!DOCTYPE html>
<html>
   <head>
      <title id="loginTitle">$FORGOT_PASSWORD_TITLE$</title>
	  <base href="/" />
	  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
      <meta name="viewport" content="width=device-width">
	  <link rel="shortcut icon" type="image/x-icon" href="usc/favicon.ico" />
      <link rel="stylesheet" href="usc/css/stateless.css" />
      <!--
      Watch out with the cache here. When page_style.css in the templates folder of a theme is changed,
      you must disable the browser cache to make sure the stylesheet is loaded
      -->
     <link rel="stylesheet" href="/template/v1.0/static/theme.css?themeId=@THEME_ID@" />
	  <script type="text/javascript">
		// START NON-TRANSLATABLE
		var labelUserNameInstruction = "@LABEL_USER_NAME_INSTRUCTION@";
		// END NON-TRANSLATABLE
	  </script>
      <!--
      validateUsername() in forgot_password.js had to be changed for branding purposes
       <script type="text/javascript" src="/authsvc/mtfim/sps/static/forgot_password.js"></script>
      -->

      <script>
         function validateUsername() {
            var errorMessage = document.getElementById('login-error-message');
            
            var userNameField = document.getElementById('realusername');
            var username = userNameField.value;
            if (username === null || username.trim() === "") {
               errorMessage.innerText = labelUserNameInstruction;
               userNameField.focus()
               return false
            } else {
               errorMessage.innerText = ""
               let brand="$BRAND_ID$";
                if (brand != "false") {
                  document.getElementById('login-main-form').username.value = document.getElementById('login-main-form').realusername.value + "@" + brand;
                } else {
                document.getElementById('login-main-form').username.value = document.getElementById('login-main-form').realusername.value;
                }
               return true
            }
         }
      </script>
   </head>
   <body>
      <div class="cs-content login">
		@PAGE_HEADER@
         <h3>$FORGOT_PASSWORD_LABEL$</h3>
         <p>$FORGOT_PASSWORD_DETAILS$</p>
         <div class="login-main">
            <form id="login-main-form" class="login-fields input-centered" method="POST" action="@ACTION@">
               <input type="hidden" name="operation" value="verify" /> 
               <input type="hidden" name="username">
               <input class="input-cta" type="submit" value="$LOGIN_BUTTON$" onclick="DoSubmit()">
               
               <label class="label" id="user-name-label">$FORGOT_PASSWORD_USER_NAME$</label> 
               <input type="email" id="realusername" placeholder="$FORGOT_PASSWORD_USER_NAME$" type="text" class="user-name" 
                  carbon-text-input="false" tabindex="1"/> 
               <button class="button" id="login-button" value="login" class="button-1 ease-in-anim-fast login" 
                  tabindex="2" type="submit" cs-attach="submitButton" onClick="return validateUsername()">$FORGOT_PASSWORD_CONTINUE$</button>
               <div class="use-another-method" id="abortSection" tabindex="3" style="text-align:left;padding-top: 30px">
                  <a href="@ACTION@&amp;operation=cancel">$FORGOT_PASSWORD_CANCEL$</a>
               </div>
            </form>
            <div id="login-error-message" class="login-error-message ease-in-anim">
               <p id="login-error-text" class="login-error-text">$FORGOT_PASSWORD_ERROR$</p>
            </div>
         </div>
         @PAGE_FOOTER@
      </div>
   </body>
</html>
